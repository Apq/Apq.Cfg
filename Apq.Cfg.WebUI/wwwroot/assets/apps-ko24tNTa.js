import{s as v,g as r}from"./index-DvA1iGEF.js";import{r as n}from"./request-D0JHu2Jz.js";const p={getAll(){return n.get("/api/apps")},getById(e){return n.get(`/api/apps/${e}`)},add(e){return n.post("/api/apps",e)},update(e,s){return n.put(`/api/apps/${e}`,s)},delete(e){return n.delete(`/api/apps/${e}`)},testConnection(e){return n.post(`/api/apps/${e}/test`)}},g=v("apps",()=>{const e=r([]),s=r(!1);async function i(){s.value=!0;try{e.value=await p.getAll()}finally{s.value=!1}}async function o(t){const a=await p.add(t);return e.value.push(a),a}async function l(t,a){await p.update(t,a);const u=e.value.findIndex(f=>f.id===t);u>=0&&(e.value[u]={...e.value[u],...a})}async function c(t){await p.delete(t),e.value=e.value.filter(a=>a.id!==t)}async function d(t){return(await p.testConnection(t)).success}return{apps:e,loading:s,fetchApps:i,addApp:o,updateApp:l,deleteApp:c,testConnection:d}});export{g as u};
